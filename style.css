:root{
  /* CI: white / gray / black; buttons & accents: green */
  --bg:#ffffff;            /* page background */
  --card:#ffffff;          /* card background */
  --soft:#f3f4f6;          /* light gray surfaces */
  --accent:#353535;        /* green for buttons/highlights */
  --text:#111827;          /* near-black text */
  --muted:#6b7280;         /* secondary text */
  --ok:#353535;            /* success green */
  --border:#e5e7eb;        /* base border color */
  --border-soft:#eceff1;   /* softer border */
  --radius:16px;
}

/* Base & layout */
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  background:var(--soft);
  color:var(--text)
}
.wrap{
  max-width:1100px;
  margin:auto;
  padding:clamp(14px,3vw,24px);
  padding-bottom:24px;
  min-height:100vh;
}
.title{
  font-weight:700;
  font-size:clamp(18px,2.2vw,22px);
  display:flex;
  gap:10px;
  align-items:center;
  margin:4px 0 6px;
}
.kicker{
  font-size:12px;
  color:var(--muted);
  letter-spacing:.06em;
  text-transform:uppercase;
  margin:0 0 14px
}

/* Top navigation */
.top-nav{
  position:sticky;
  top:0;
  z-index:50;
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px clamp(14px,3vw,24px);
  margin:0 calc(-1 * clamp(14px,3vw,24px)) 10px;
  background:var(--bg);
  border-bottom:1px solid var(--border-soft);
  overflow-x:auto;
}
.nav-title{
  font-weight:700;
  font-size:14px;
  display:flex;
  align-items:center;
  gap:6px;
  white-space:nowrap;
}
.nav-tabs{
  display:flex;
  gap:8px;
}
.nav-tab{
  border-radius:999px;
  padding:8px 14px;
  font-size:13px;
  border:1px solid transparent;
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  white-space:nowrap;
}
.nav-tab.active{
  background:var(--soft);
  border-color:var(--border);
  color:var(--text);
}

/* Grid: stacks on phones, 2 columns on ≥900px */
.grid{
  display:grid;
  gap:16px
}
@media(min-width:900px){
  .grid{grid-template-columns:1.1fr .9fr}
}

/* Page visibility for multi-page layout */
.page{display:none;}
.page.active{display:block;}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:14px 16px;
  box-shadow:0 1px 3px rgba(0,0,0,.06);
  margin-bottom:16px;
}
.head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:12px
}
.head h2{
  font-size:clamp(15px,2.2vw,18px);
  margin:0;
  font-weight:700
}

.row{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  margin:10px 0
}
label{
  font-size:12px;
  color:var(--muted);
  display:block;
  margin:0 0 6px
}

/* Inputs: larger touch targets, no iOS zoom */
select,
input[type="number"],
input[type="text"]{
  background:#fff;
  border:1px solid var(--border);
  color:var(--text);
  border-radius:10px;
  padding:12px 12px;
  font-size:16px;
  outline:none;
  width:100%;
}
select:focus,
input:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px color-mix(in srgb, var(--accent) 20%, transparent)
}

/* Mobile-friendly touches (≥44px touch targets) */
.btn{min-height:44px}

.pill{
  display:inline-flex;
  gap:6px;
  align-items:center;
  background:#fff;
  border:1px solid var(--border);
  padding:8px 10px;
  border-radius:999px
}
.pill input{accent-color:var(--accent)}

/* Table: scroll on small screens */
#tableWrap{
  overflow:auto;
  border-radius:12px;
  border:1px solid var(--border-soft)
}
table{
  width:100%;
  border-collapse:collapse;
  min-width:100px;
  background:#ffffff;
  font-size:14px;
}
th,td{
  padding:10px;
  border-bottom:1px solid var(--border);
  text-align:right;
  font-variant-numeric:tabular-nums;
  vertical-align:middle;
}
th{
  color:var(--muted);
  background:var(--soft);
  text-align:right
}
th:first-child,
td:first-child{text-align:left}
tfoot td{font-weight:700}
tbody tr:nth-child(even){
  background:#f9fafb;
}
table{
  border-radius:12px;
  overflow:hidden;
}

.muted{color:var(--muted)}
.accent{color:var(--accent)}
.ok{color:var(--ok)}

/* Summary & message */
.msg{
  white-space:pre-wrap;
  background:#fff;
  border:1px dashed var(--border);
  border-radius:12px;
  padding:14px;
  min-height:160px;
  margin-top:14px
}

/* Buttons: green primary */
.btn{
  background:var(--accent);
  color:#ffffff;
  border:none;
  border-radius:12px;
  padding:10px 14px;
  font-weight:700;
  cursor:pointer;
  transition:filter .15s ease, transform .02s
}
.btn:hover{filter:brightness(0.95)}
.btn:active{transform:translateY(1px)}

/* Secondary button */
.btn-secondary{
  background:var(--soft);
  color:var(--text);
}
.btn-secondary:hover{
  filter:brightness(0.97);
}

.hint{
  font-size:12px;
  color:var(--muted)
}
.inline{
  display:flex;
  gap:10px;
  align-items:center
}

/* Better number input on iOS/Safari */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button{
  -webkit-appearance:none;
  margin:0;
}
input[type=number]{-moz-appearance:textfield}

/* Focus styles for accessibility */
:focus-visible{
  outline:2px solid color-mix(in srgb, var(--accent) 70%, transparent);
  outline-offset:2px;
  border-radius:10px
}

/* ---- e-Bill Modal ---- */
.modal{
  position:fixed;
  inset:0;
  display:none;
  z-index:9999
}
.modal.open{display:block}
.modal-backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:saturate(100%) blur(1.5px)
}

/* Modal card: allow scroll, prevent overflow cut-off, limit height */
.modal-card{
  position:relative;
  z-index:1;
  max-width:640px;
  margin:6vh auto;
  background:#fff;
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.12);
  overflow:auto;
  max-height:88vh
}
@media (max-width:720px){
  .modal-card{
    margin:0;
    min-height:100dvh;
    border-radius:0;
  }
}
.modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  border-bottom:1px solid var(--border-soft)
}
.modal-head h3{
  margin:0;
  font-size:18px;
  font-weight:700
}
.modal-close{
  background:transparent;
  border:0;
  font-size:22px;
  line-height:1;
  cursor:pointer;
  padding:6px 10px;
  color:#64748b
}
.modal-body{
  padding:16px 16px 24px
}
.modal-actions{
  display:flex;
  gap:10px;
  justify-content:flex-end;
  padding:12px 16px;
  border-top:1px solid var(--border-soft)
}

/* Receipt layout */
.receipt{
  font-size:14px;
  color:var(--text)
}
.receipt .meta{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  color:var(--muted);
  font-size:12px;
  margin-bottom:10px
}
.receipt h4{
  margin:0 0 8px 0;
  font-size:16px
}
.receipt table{
  width:100%;
  border-collapse:collapse
}
.receipt th,
.receipt td{
  padding:8px;
  border-bottom:1px solid var(--border);
  text-align:right;
  font-variant-numeric:tabular-nums
}
.receipt th:first-child,
.receipt td:first-child{text-align:left}
.receipt tfoot td{font-weight:700}
.receipt .grand{color:var(--accent)}

/* Placeholder card for future pages */
.placeholder-card{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.placeholder-card h2{
  margin:0 0 4px;
  font-size:14px;
}

/* Mobile tweaks */
@media (max-width:480px){
  .wrap{
    padding:12px;
    padding-bottom:20px;
  }
  .card{
    padding:12px;
    margin-bottom:12px;
  }
  th,td{
    padding:8px;
    font-size:13px;
  }
  .title{
    font-size:16px;
  }
  .kicker{
    font-size:11px;
  }
}