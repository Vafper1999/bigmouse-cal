<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Big Mouse ‚Ä¢ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</title>
  <link rel="stylesheet" href="style_stock.css" />
  <link rel="stylesheet" href="style_sales.css" />
  <link rel="shortcut icon" type="image/x-icon" href="favicon D1.ico">
</head>
<body>
  <div class="wrap">
    <header class="top-nav">
      <div class="nav-title">üê≠ Big Mouse ‚Ä¢ Sales</div>
      
      <button class="settings-btn" onclick="openSettings()">‚öôÔ∏è</button>
      
      <nav class="nav-tabs">
        <a href="index.html" class="nav-tab" style="text-decoration:none;">Pricing</a>
        <a href="stock.html" class="nav-tab" style="text-decoration:none;">Stock</a>
        <span class="nav-tab active">Sales</span>
        <a href="orders.html" class="nav-tab" style="text-decoration:none;">Purchases</a>
      </nav>
    </header>
    
    <div class="title">üí∞ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</div>

    <section class="card">
      <div class="head"><h2>1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏¥‡∏•</h2></div>
      <div class="row">
        <div class="col">
          <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢</label>
          <input type="date" id="sale-date">
        </div>
        <div class="col">
          <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (No.)</label>
          <input type="text" id="sale-no" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1, 2, A001">
        </div>
      </div>
    </section>

    <section class="card update-card">
      <div class="head"><h2>2. ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ & ‡∏£‡∏≤‡∏Ñ‡∏≤</h2></div>
      
      <div class="price-mode">
        <input type="radio" name="priceType" id="type-retail" value="retail" checked onchange="updatePrice()">
        <label for="type-retail">‡∏Ç‡∏≤‡∏¢‡∏õ‡∏•‡∏µ‡∏Å (Retail)</label>
        
        <input type="radio" name="priceType" id="type-wholesale" value="wholesale" onchange="updatePrice()">
        <label for="type-wholesale">‡∏Ç‡∏≤‡∏¢‡∏™‡πà‡∏á (Wholesale)</label>
      </div>

      <div class="row">
        <div class="col">
          <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
          <select id="prod-animal" onchange="updateSizeList()">
            <option value="Mice">Mice</option>
            <option value="Rat">Rat</option>
          </select>
        </div>
        <div class="col">
          <label>‡πÑ‡∏ã‡∏™‡πå</label>
          <select id="prod-size" onchange="updatePrice()"></select>
        </div>
      </div>

      <div class="row live-check-row">
        <input type="checkbox" id="prod-live" style="width:24px; height:24px; accent-color:var(--accent);">
        <label for="prod-live" style="margin:0 0 0 10px; font-size:16px; font-weight:bold; color:var(--text); display:flex; align-items:center;">
          ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô (Live) 
          <span style="font-weight:normal; color:gray; font-size:14px; margin-left:6px;"> (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡∏¥‡πä‡∏Å = ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á)</span>
        </label>
      </div>

      <div class="row">
        <div class="col">
          <label>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢</label>
          <input type="number" id="prod-price" placeholder="‡∏ö‡∏≤‡∏ó">
        </div>
        <div class="col">
          <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
          <input type="number" id="prod-qty" placeholder="‡∏ï‡∏±‡∏ß">
        </div>
      </div>

      <div class="row" style="background:#f9f9f9; padding:10px; border-radius:8px;">
        <div class="col">
          <label>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (ProM.)</label>
          <input type="number" id="prom-val" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)">
        </div>
        <div class="col">
          <label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</label>
          <select id="prom-type">
            <option value="baht">‡∏ö‡∏≤‡∏ó (Baht)</option>
            <option value="percent">% ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå</option>
          </select>
        </div>
      </div>

      <button class="btn" onclick="addToCart()" style="width:100%; margin-top:10px; background:var(--text); color:white;">
        + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
      </button>

      <div id="cart-container" class="cart-list" style="display:none;">
        <label>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß:</label>
        <div id="cart-items"></div>
      </div>
    </section>

    <section class="card">
      <div class="head"><h2>3. ‡∏ä‡∏≥‡∏£‡∏∞ & ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</h2></div>
      <div class="row">
        <div class="col">
          <label>‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞</label>
          <select id="pay-type">
            <option value="‡πÇ‡∏≠‡∏ô">‡πÇ‡∏≠‡∏ô</option>
            <option value="‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î">‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</option>
          </select>
        </div>
        <div class="col">
          <label>‡∏Ç‡∏ô‡∏™‡πà‡∏á</label>
          <select id="ship-method">
            <option value="Yourself">‡∏°‡∏≤‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏á (Yourself)</option>
            <option value="Grab">Grab</option>
            <option value="Nim Express">Nim Express</option>
            <option value="Lalamove">Lalamove</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label>‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡πà‡∏≤‡∏¢)</label>
          <input type="number" id="ship-cost" value="0">
        </div>
        <div class="col">
          <label>‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á (‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á)</label>
          <input type="number" id="ship-paid" value="0">
        </div>
      </div>
    </section>

    <div class="summary-box">
      <div class="sum-title">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î)</div>
      <div class="sum-total" id="grand-total">0</div>
      <div style="font-size:14px;">‡∏ö‡∏≤‡∏ó</div>
    </div>

    <button class="btn" id="btn-save" onclick="submitSaleOrder()" style="width:100%; margin-top:16px; font-size:18px;">
      ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢
    </button>
    
    <div style="height:50px;"></div>
  </div>

  <div id="settings-modal" class="modal">
    <div class="modal-content">
      <h3 style="margin-top:0;">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
      <p style="font-size:14px; color:#666;">
        ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå Google Sheet ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏≤‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡∏ö
      </p>
      
      <label style="font-size:12px; font-weight:bold; display:block; margin-bottom:4px;">
        Google Sheet URL:
      </label>
      <input type="text" id="sheet-url-input" placeholder="https://docs.google.com/spreadsheets/d/..." style="width:100%; padding:10px; border:1px solid #ccc; border-radius:8px; margin-bottom:15px;">
      
      <div style="display:flex; gap:10px;">
        <button class="btn" onclick="saveSettings()" style="flex:1;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button class="btn" onclick="closeSettings()" style="flex:1; background:#ccc; color:#333;">‡∏õ‡∏¥‡∏î</button>
      </div>
    </div>
  </div>

  <script src="script_sales.js"></script>
</body>
</html>